<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Loanyfy.com ‚Äì India's Most Secure Loan Provider</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />

  <!-- GSAP Animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <!-- ‚úÖ Inline UI + Performance Fixes (A + B) -->
  <style>
    /* ===== Success Overlay Screen (Trust Green) ===== */
    .success-overlay{
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      background: rgba(3, 14, 9, 0.62);
      backdrop-filter: blur(10px);
    }
    .success-overlay.show{ display: flex; }

    .success-card{
      width: min(560px, 95vw);
      border-radius: 22px;
      padding: 22px 18px;
      background: linear-gradient(180deg, rgba(9, 140, 76, 0.95), rgba(7, 106, 60, 0.92));
      color: #fff;
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 22px 70px rgba(0,0,0,0.35);
      transform: translateY(16px) scale(0.98);
      opacity: 0;
      animation: successIn 420ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes successIn{
      to { transform: translateY(0) scale(1); opacity: 1; }
    }

    .success-top{
      display: flex;
      gap: 14px;
      align-items: center;
      margin-bottom: 10px;
    }
    .success-badge{
      width: 54px;
      height: 54px;
      border-radius: 16px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(255,255,255,0.14);
      border: 1px solid rgba(255,255,255,0.22);
      position: relative;
      overflow: hidden;
    }
    .success-badge::after{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent 55%);
      animation: glowMove 1.8s ease-in-out infinite;
    }
    @keyframes glowMove{
      0%,100%{ transform: translate(-6px,-6px); opacity: .9; }
      50%{ transform: translate(10px,10px); opacity: .6; }
    }
    .success-title{
      font-size: 20px;
      line-height: 1.2;
      margin: 0;
      letter-spacing: 0.2px;
    }
    .success-sub{
      margin: 6px 0 0;
      opacity: 0.92;
      font-size: 14px;
      line-height: 1.5;
    }

    .success-details{
      margin-top: 14px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 16px;
      padding: 12px 12px;
    }
    .success-details ul{
      margin: 0;
      padding-left: 18px;
      opacity: 0.95;
    }
    .success-details li{ margin: 6px 0; }

    .success-actions{
      display: flex;
      gap: 10px;
      margin-top: 14px;
    }
    .success-actions button{
      flex: 1;
      border: 0;
      cursor: pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 700;
    }
    .success-actions .btn-dark{
      background: rgba(0,0,0,0.20);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.18);
    }
    .success-actions .btn-white{
      background: #fff;
      color: #0a6a3c;
    }

    /* ‚úÖ PERF: keep glass smooth on transitions */
    .glass, .glass-soft{
      will-change: transform;
      transform: translateZ(0);
    }

    /* ‚úÖ Step B: Pause partners marquee (and heavy work) until Step 4 is ACTIVE */
    .partners-section { content-visibility: auto; contain-intrinsic-size: 800px; }
    body:not(.is-step4) .partners-section { display: none; }

    /* If your marquee uses CSS animations, pause them by default */
    body:not(.is-step4) .partners-marquee-row,
    body:not(.is-step4) .partners-track {
      animation-play-state: paused !important;
    }

    /* optional tiny shimmer placeholder for partner logos while loading */
    .partner-logo img[data-src]{
      filter: saturate(0.9);
    }
  </style>
</head>

<body>
  <!-- Animated Background Blobs -->
  <div class="bg-blobs">
    <span class="blob blob-1"></span>
    <span class="blob blob-2"></span>
    <span class="blob blob-3"></span>
  </div>

  <!-- Top Brand Bar -->
  <header class="top-bar">
    <div class="brand">
      <div>
        <div class="brand-logo-text">
          <span class="txt-loan">Loan</span><span class="txt-yfy">yfy</span><span class="txt-com">.com</span>
        </div>
        <div class="brand-tagline">Loan - Yes For You</div>
      </div>
    </div>

    <div class="lang-pill">
      <span>EN</span>
    </div>
  </header>

  <!-- Main Container -->
  <main class="main-wrap">
    <section class="card" id="wizardCard">

      <!-- Progress Bar -->
      <div class="progress">
        <div class="progress-top">
          <span id="stepTitle">Step 1 of 4 ‚Äì Welcome</span>
        </div>
        <div class="progress-bar">
          <div class="progress-bar-fill" id="progressFill"></div>
        </div>
      </div>

      <!-- STEP 1 -->
      <section class="step step-active" data-step="1">
        <div class="step-header">
          <div class="step-header-text">
            <h1 class="step-heading">Welcome to Loanyfy</h1>
            <p class="step-subtitle">Start your business loan journey in just a few steps.</p>
          </div>
          <div class="step-header-visual">
            <img src="assets/mm.png" alt="Welcome to Loanyfy" loading="lazy" decoding="async">
          </div>
        </div>

        <div class="field-group">
          <label for="fullName">Full Name</label>
          <input type="text" id="fullName" placeholder="Enter your full name" />
        </div>

        <div class="field-group">
          <label for="mobile">Mobile Number</label>
          <input type="tel" id="mobile" placeholder="Enter your 10-digit mobile number" />
        </div>

        <div class="field-group">
          <label for="email">Email ID</label>
          <input type="email" id="email" placeholder="Enter your email address" />
        </div>

        <div class="field-group">
          <label for="panNumber">PAN Card Number</label>
          <input type="text" id="panNumber" placeholder="Enter your PAN (e.g. ABCDE1234F)" />
        </div>

        <label class="checkbox-row">
          <input type="checkbox" id="termsCheckbox" />
          <span>
            I agree to the
            <a href="privacy.html" target="_blank" rel="noopener noreferrer">Terms &amp; Conditions</a>
          </span>
        </label>

        <button class="primary-btn" id="toStep2Btn">
          Continue <span class="btn-arrow">‚Üí</span>
        </button>

        <p class="support-text">
          Need help?
          <a href="tel:+9198936070">Contact support: +91 9198936070</a>
        </p>

        <p class="security-text">üîí Your data is secure and encrypted.</p>
      </section>

      <!-- STEP 2 -->
      <section class="step" data-step="2">
        <div class="step-header">
          <div class="step-header-text">
            <h1 class="step-heading">Business Details</h1>
            <p class="step-subtitle">Tell us more about your business.</p>
          </div>
          <div class="step-header-visual">
            <img src="assets/hnd.png" alt="Business details illustration" loading="lazy" decoding="async">
          </div>
        </div>

        <div class="field-group">
          <label>Trade Name *</label>
          <input id="tradeName" placeholder="Enter your business name" />
        </div>

        <div class="field-group">
          <label>Vintage (Years in Business) *</label>
          <select id="vintage">
            <option value="">Select business vintage</option>
            <option value="0-1 years">0 ‚Äì 1 year</option>
            <option value="1-3 years">1 ‚Äì 3 years</option>
            <option value="3-5 years">3 ‚Äì 5 years</option>
            <option value="5+ years">5+ years</option>
          </select>
        </div>

        <div class="field-group">
          <label>Business Address *</label>
          <textarea id="address" rows="2" placeholder="Enter complete business address"></textarea>
        </div>

        <div class="field-row-3">
          <div class="field-group">
            <label>Pincode *</label>
            <input id="pincode" placeholder="110011" />
          </div>

          <div class="field-group">
            <label>City *</label>
            <input id="city" placeholder="DELHI" />
          </div>

          <div class="field-group">
            <label>State *</label>
            <input id="state" placeholder="DL" />
          </div>
        </div>

        <div class="field-group">
          <label>Constitution Type *</label>
          <select id="constitutionType">
            <option value="">Select constitution</option>
            <option value="Proprietorship">Proprietorship</option>
            <option value="Partnership">Partnership</option>
            <option value="Private Limited">Private Limited</option>
            <option value="Public Limited">Public Limited</option>
            <option value="LLP">LLP</option>
          </select>
        </div>

        <div class="field-group">
          <label>Annual Turnover *</label>
          <select id="annualTurnover">
            <option value="">Select annual turnover range</option>
            <option value="<25L">&lt; 25 Lakhs</option>
            <option value="25L-1Cr">25 Lakhs ‚Äì 1 Cr</option>
            <option value="1Cr-5Cr">1 Cr ‚Äì 5 Cr</option>
            <option value="5Cr+">5 Cr+</option>
          </select>
        </div>

        <div class="field-group">
          <label>Monthly Obligations (Existing EMIs / Credit Card dues)</label>
          <input type="number" id="monthlyObligation" placeholder="Total monthly obligations in ‚Çπ" min="0" />
        </div>

        <div class="field-group">
          <label>Industry Type *</label>
          <select id="industryType">
            <option value="">Select your industry</option>
            <option value="Retail">Retail</option>
            <option value="Manufacturing">Manufacturing</option>
            <option value="Services">Services</option>
            <option value="FMCG">FMCG</option>
            <option value="Others">Others</option>
          </select>
        </div>

        <div class="step-actions">
          <button class="ghost-btn" id="backTo1">‚Üê Back</button>
          <button class="primary-btn" id="toStep3Btn">
            Continue <span class="btn-arrow">‚Üí</span>
          </button>
        </div>
      </section>

      <!-- STEP 3 -->
      <section class="step" data-step="3">
        <div class="step-header">
          <div class="step-header-text">
            <h1 class="step-heading">Your Loan Offer</h1>
            <p class="step-subtitle">Based on your details, here‚Äôs an indicative offer.</p>
          </div>
          <div class="step-header-visual">
            <img src="assets/uu.png" alt="Loan offer illustration" loading="lazy" decoding="async">
          </div>
        </div>

        <div class="two-column">
          <div class="offer-card glass">
            <div class="pill pill-success">Pre-Approved*</div>
            <h2 class="offer-title">Maximum Loan Eligible Upto</h2>
            <div class="offer-amount" id="maxLoanAmount">‚Çπ 1 Cr</div>

            <div class="offer-meta">
              <div>
                <span class="meta-label">Interest Rate</span>
                <span class="meta-value" id="interestRateLabel">16.99% p.a.</span>
              </div>
              <div>
                <span class="meta-label">Max Tenure</span>
                <span class="meta-value">36 Months</span>
              </div>
            </div>

            <div class="docs-block">
              <h3>Documentation Required</h3>
              <ul>
                <li>PAN Card</li>
                <li>Aadhaar Card</li>
                <li>Bank Statements (last 6 months)</li>
                <li>Business Registration Certificate</li>
                <li>GST Certificate (if applicable)</li>
              </ul>
              <p class="docs-note">You‚Äôll be able to upload these later.</p>
            </div>
          </div>

          <div class="calculator-card glass">
            <h2 class="calculator-title">EMI Calculator</h2>

            <div class="field-group">
              <label>Loan Amount</label>
              <div class="range-row">
                <input type="range" id="loanAmountRange" min="50000" max="1000000" step="5000" />
                <span id="loanAmountLabel" class="range-value">‚Çπ 500K</span>
              </div>

              <div class="inline-inputs">
                <span>‚Çπ50K</span>
                <input type="number" id="loanAmountInput" />
                <span>‚Çπ10L</span>
              </div>
            </div>

            <div class="field-group">
              <label>Tenure (Months)</label>
              <div class="range-row">
                <input type="range" id="tenureRange" min="6" max="60" step="1" />
                <span id="tenureLabel" class="range-value">12 months</span>
              </div>

              <div class="inline-inputs">
                <span>6</span>
                <input type="number" id="tenureInput" />
                <span>60</span>
              </div>
            </div>

            <div class="field-group">
              <label>Interest Rate (p.a.)</label>
              <div class="range-row">
                <input type="range" id="interestRange" min="10" max="30" step="0.25" />
                <span id="interestLabel" class="range-value">16.99% p.a.</span>
              </div>

              <div class="inline-inputs">
                <span>10%</span>
                <input type="number" id="interestInput" step="0.01" />
                <span>30%</span>
              </div>
            </div>

            <div class="emi-result">
              <div class="emi-main">
                <span>Your Monthly EMI</span>
                <div class="emi-value" id="emiValue">‚Çπ 0</div>
              </div>

              <div class="emi-meta">
                <div>
                  <span class="meta-label">Total Interest</span>
                  <span class="meta-value" id="totalInterestValue">‚Çπ 0</span>
                </div>
                <div>
                  <span class="meta-label">Total Amount</span>
                  <span class="meta-value" id="totalAmountValue">‚Çπ 0</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <p class="small-note">*Final approval subject to verification.</p>

        <div class="step-actions step-actions-multi">
          <button class="ghost-btn" id="backTo2">‚Üê Back</button>

          <div class="process-actions">
            <span class="process-label">Process for:</span>
            <div class="process-buttons">
              <button class="primary-btn" id="processOverdraftBtn">Overdraft Limit</button>
              <button class="primary-btn secondary-as-primary" id="processTermLoanBtn">Term Loan</button>
            </div>
          </div>
        </div>
      </section>

      <!-- STEP 4 -->
      <section class="step" data-step="4">
        <div class="confetti confetti-1"></div>
        <div class="confetti confetti-2"></div>
        <div class="confetti confetti-3"></div>

        <div class="step-icon-circle"><span>ü§ù</span></div>

        <h1 class="step-heading">
          Thank You, <span id="thankYouName"></span>!
        </h1>

        <p class="step-subtitle step-subtitle-strong">
          Our Loanyfy expert team is now reviewing your details.
          <br />
          <strong>You‚Äôll receive a call shortly on your registered mobile number.</strong>
        </p>

        <div class="summary-card glass">
          <h3>Keep these documents handy for faster approval:</h3>
          <ul class="docs-list-highlight">
            <li>‚úÖ PAN Card</li>
            <li>‚úÖ Aadhaar Card</li>
            <li>‚úÖ Last 6 months Bank Statements</li>
            <li>‚úÖ Business Registration / GST Certificate (if applicable)</li>
          </ul>

          <p class="summary-note">
            During the call, our experts will guide you on document upload,
            explain the final EMI &amp; tenure, and complete the journey end-to-end.
          </p>
        </div>

        <div class="trust-points-elevated glass-soft">
          <h3>Why you can trust Loanyfy</h3>
          <ul>
            <li>Safe &amp; 100% Secure Documents</li>
            <li>0% Hassle.</li>
            <li>Your Data, Fully Protected.</li>
            <li>Simple Document Upload.</li>
            <li>No Hidden Fees. No Hidden Risks.</li>
          </ul>
        </div>

        <div class="upload-card glass">
          <div class="upload-header-row">
            <div>
              <h3>Upload your documents now</h3>
              <p class="upload-subtext">Upload securely so our experts can fast-track your approval.</p>
            </div>
            <div class="upload-visual">
              <img src="assets/ag.png" alt="Secure upload" loading="lazy" decoding="async">
            </div>
          </div>

          <div class="upload-grid">
            <div class="upload-field">
              <label>PAN Card</label>
              <input type="file" id="docPan" accept="image/*,application/pdf" />
            </div>

            <div class="upload-field">
              <label>Aadhaar Card</label>
              <input type="file" id="docAadhaar" accept="image/*,application/pdf" />
            </div>

            <div class="upload-field">
              <label>Business Registration Certificate / GST</label>
              <input type="file" id="docBusinessReg" accept="image/*,application/pdf" />
            </div>

            <div class="upload-field">
              <label>Electricity Bill</label>
              <input type="file" id="docElectricityBill" accept="image/*,application/pdf" />
            </div>

            <div class="upload-field upload-field-wide">
              <label>Bank Statements (last 6 months)</label>
              <input type="file" id="docBankStatements" multiple accept="image/*,application/pdf" />
            </div>
          </div>

          <p class="upload-note">
            All documents are encrypted and stored securely. Our experts will never
            share your data without consent.
          </p>

          <button class="primary-btn" id="submitDocsBtn">Upload Documents Securely</button>
        </div>

        <!-- Partners marquee ONLY on last page -->
        <section class="partners-section">
          <h2 class="partners-heading">Our Business Loan Partners</h2>

          <div class="partners-marquee-wrapper">
            <!-- ROW 1 -->
            <div class="partners-marquee-row partners-row-1">
              <div class="partners-track">
                <div class="partner-logo"><img data-src="assets/partners/100.svg" alt="Kotak" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/wee.png" alt="HDFC Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/102.png" alt="ICICI Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/103.png" alt="Axis Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/104.png" alt="SBI" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/105.svg" alt="NeoGrowth" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/106.png" alt="Fullerton" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/107.png" alt="Bajaj Finserv" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/8.png" alt="KreditBee" loading="lazy" decoding="async"></div>
              </div>

              <div class="partners-track">
                <div class="partner-logo"><img data-src="assets/partners/100.svg" alt="Kotak" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/wee.png" alt="HDFC Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/102.png" alt="ICICI Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/103.png" alt="Axis Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/104.png" alt="SBI" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/105.svg" alt="NeoGrowth" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/106.png" alt="Fullerton" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/107.png" alt="Bajaj Finserv" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/8.png" alt="KreditBee" loading="lazy" decoding="async"></div>
              </div>
            </div>

            <!-- ROW 2 -->
            <div class="partners-marquee-row partners-row-2">
              <div class="partners-track">
                <div class="partner-logo"><img data-src="assets/partners/101.png" alt="FlexiLoans" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/102.png" alt="Tata Capital" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/100.svg" alt="Poonawalla Fincorp" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/103.png" alt="SBM Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/104.png" alt="Standard Chartered" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/105.svg" alt="IIFL" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/106.png" alt="Edelweiss" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/107.png" alt="MAS Finance" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/109.png" alt="Muthoot Finance" loading="lazy" decoding="async"></div>
              </div>

              <div class="partners-track">
                <div class="partner-logo"><img data-src="assets/partners/101.png" alt="FlexiLoans" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/102.png" alt="Tata Capital" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/100.svg" alt="Poonawalla Fincorp" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/103.png" alt="SBM Bank" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/104.png" alt="Standard Chartered" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/105.svg" alt="IIFL" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/106.png" alt="Edelweiss" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/107.png" alt="MAS Finance" loading="lazy" decoding="async"></div>
                <div class="partner-logo"><img data-src="assets/partners/109.png" alt="Muthoot Finance" loading="lazy" decoding="async"></div>
              </div>
            </div>
          </div>
        </section>

        <button class="ghost-btn start-again-btn" id="startAgainBtn">Start New Application</button>
      </section>
    </section>
  </main>

  <!-- ‚úÖ Success Screen Overlay -->
  <div class="success-overlay" id="successOverlay" role="dialog" aria-modal="true" aria-label="Upload Successful">
    <div class="success-card">
      <div class="success-top">
        <div class="success-badge">
          <span style="font-size:28px; position:relative; z-index:1;">‚úÖ</span>
        </div>
        <div>
          <h2 class="success-title">Documents Uploaded Successfully!</h2>
          <p class="success-sub">
            Your documents are uploaded securely. Our <strong>LOANYFY Expert</strong> will contact you shortly to fast-track your approval.
          </p>
        </div>
      </div>

      <div class="success-details">
        <ul>
          <li>üîí Encrypted & stored securely</li>
          <li>üìû Expert verification call on your registered number</li>
          <li>‚ö° Faster approval processing</li>
        </ul>
      </div>

      <div class="success-actions">
        <button class="btn-dark" id="closeSuccessBtn">Close</button>
        <button class="btn-white" id="startAgainFromSuccessBtn">Start New Application</button>
      </div>
    </div>
  </div>

  <!-- API URL -->
  <script>
    window.LOANYFY_API_BASE = "https://loanyfy.onrender.com";
  </script>

  <script src="script.js"></script>

  <!-- ‚úÖ Perf + Step4 Lazy Load + Success Screen Control -->
  <script>
    (function () {
      const wizard = document.getElementById("wizardCard");
      const overlay = document.getElementById("successOverlay");
      const closeBtn = document.getElementById("closeSuccessBtn");
      const startAgainBtn = document.getElementById("startAgainFromSuccessBtn");
      const uploadBtn = document.getElementById("submitDocsBtn");

      // ‚úÖ Step A: Ensure all images are lazy/async (even if you forget on some)
      document.querySelectorAll("img").forEach(img => {
        img.loading = img.loading || "lazy";
        img.decoding = img.decoding || "async";
      });

      // ‚úÖ Step B: load partner logos only when Step 4 becomes active
      function loadPartnerLogos() {
        const imgs = document.querySelectorAll('.partners-section img[data-src]');
        imgs.forEach(img => {
          if (!img.getAttribute('src')) {
            img.setAttribute('src', img.getAttribute('data-src'));
          }
        });
      }

      // Detect active step by watching class changes (no need to edit script.js)
      function syncStepClassFromDOM() {
        const active = document.querySelector(".step.step-active");
        const step = active ? active.getAttribute("data-step") : null;

        document.body.classList.toggle("is-step4", step === "4");

        if (step === "4") {
          loadPartnerLogos(); // heavy stuff loads now only
        }
      }

      // Watch for step changes
      const obs = new MutationObserver(syncStepClassFromDOM);
      obs.observe(wizard, { subtree: true, attributes: true, attributeFilter: ["class"] });
      syncStepClassFromDOM();

      // ‚úÖ Success screen helpers
      function openSuccess() {
        overlay.classList.add("show");
        document.body.style.overflow = "hidden";
        if (window.gsap) {
          gsap.fromTo(".success-card",
            { y: 18, scale: 0.98, opacity: 0 },
            { y: 0, scale: 1, opacity: 1, duration: 0.45, ease: "power3.out" }
          );
        }
      }
      function closeSuccess() {
        overlay.classList.remove("show");
        document.body.style.overflow = "";
      }

      // IMPORTANT:
      // If your upload is API-based, call openSuccess() only AFTER upload success in script.js.
      // For now, this shows the screen on click (safe UI fallback).
      uploadBtn && uploadBtn.addEventListener("click", function () {
        // If you already do fetch upload, REMOVE this line and call openSuccess() after success.
        openSuccess();
      }, { passive: true });

      closeBtn && closeBtn.addEventListener("click", closeSuccess, { passive: true });

      startAgainBtn && startAgainBtn.addEventListener("click", function () {
        closeSuccess();
        const realStartAgain = document.getElementById("startAgainBtn");
        realStartAgain && realStartAgain.click();
      }, { passive: true });

      overlay && overlay.addEventListener("click", function (e) {
        if (e.target === overlay) closeSuccess();
      }, { passive: true });

      // Expose function if you want to call it from script.js after real upload success
      window.LOANYFY_openUploadSuccess = openSuccess;
    })();
  </script>
</body>
</html>
